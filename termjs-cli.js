// Generated by CoffeeScript 1.8.0
var pty, readline, rl, socket, socketio, url;

socketio = require('socket.io-client');

readline = require('readline');

url = process.argv[2];

socket = socketio.connect(url);

pty = null;

rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout
});

rl.on('line', function(line) {
  return socket.emit('data', pty, "" + line + "\n");
});

rl.on('SIGINT', function() {
  rl.pause();
  return socket.disconnect();
});

socket.on('connect', function() {
  socket.on('data', function(pty, data) {
    return process.stdout.write(data);
  });
  return socket.emit('create', 80, 25, function(err, data) {
    return pty = data.id;
  });
});
